(()=>{"use strict";var e={740:(e,t,n)=>{n.r(t)},718:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.carBrands=void 0,t.carBrands=[{name:"Acura",models:["ILX","TLX","RLX","CDX","RDX","MDX","CSX","RSX","NSX","CL"]},{name:"AUDI",models:["A3","A4","A5","A6","A7","A8","Q3","Q5","Q7","Q8","RS4","RS6","RS7"]},{name:"BMW",models:["1 SERIES","2 SERIES","3 SERIES","4 SERIES","5 SERIES","6 SERIES","7 SERIES","8 SERIES","X1","X2","X3","X4","X5","X6","X7"]},{name:"Ford",models:["BRONCO","EDGE","ESCAPE","ESCORT","EXPEDITION","EXPLORER","FIESTA","FOCUS","GALAXY","KUGA","MONDEO"]},{name:"Honda",models:["Accord","Civic 4D","Civic 5D","Civic Type-R","CR-V","Crosstour","FR-V","Jazz","FIT","INSIGHT"]},{name:"Hyundai",models:["Elantra","Genesis","Santa Fe","Solaris","Solaris Hatchback","Sonata","Creta","Elantra","Palisade","Tucson"]},{name:"Kia",models:["Picanto","Rio X","Ceed","Ceed SW","K5","Stinger","Sportage","Xceed","Cadenza","Cerato"]},{name:"Mazda",models:["2","3","6","CX-30","CX-60","CX-3","CX-4","CX-5","CX-8","CX-9"]},{name:"Volkswagen",models:["Polo","California","Jetta","Passat","Passat Alltrack","Golf","Tiguan","Touareg","Taos","Teramont"]},{name:"Opel",models:["Grandland X","Crossland ","Astra","Insignia","Zafira","Vivaro","Combo Cargo","Combo Life","Adam","INSIGNIA OPC"]},{name:"Skoda",models:["Rapid","Superb ","Octavia","Karoq","Kodiaq","Favia","Enyaq","Kamiq","Kushaq","Slavia"]},{name:"Mitsubishi",models:["Eclipse","Superb ","ASX","Pajero","Pajero Sport","Outlander","Colt","Galant","Grandis","L200"]},{name:"Toyota",models:["Supra","Camry ","Corolla","Land Cruiser","C-HR","RAV4","Yaris","Prius","Vios","IQ"]}]},136:function(e,t){var n=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sendWinner=t.checkWinner=t.getWinners=t.startCar=t.updateCar=t.removeCar=t.createCar=t.getCar=t.getData=t.path=void 0;const a="http://127.0.0.1:3000";t.path={garage:"/garage",winners:"/winners",engine:"/engine"};const o=e=>e.length?`?${e.map((e=>`${e.key}=${e.value}`)).join("&")}`:"";t.getData=e=>n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${a}${t.path.garage}${o(e)}`);return{data:yield n.json(),count:Number(n.headers.get("X-Total-Count"))}})),t.getCar=e=>n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${a}${t.path.garage}/${e}`);return yield n.json()})),t.createCar=e=>n(void 0,void 0,void 0,(function*(){yield fetch(`${a}${t.path.garage}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})})),t.removeCar=e=>n(void 0,void 0,void 0,(function*(){yield fetch(`${a}${t.path.garage}/${e}`,{method:"DELETE"}),void 0!==(yield(0,t.getWinners)([])).data.find((t=>t.id==e))&&(yield fetch(`${a}${t.path.winners}/${e}`,{method:"DELETE"}))})),t.updateCar=(e,o)=>n(void 0,void 0,void 0,(function*(){yield fetch(`${a}${t.path.garage}/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})})),t.startCar=e=>n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${a}${t.path.engine}${o(e)}`,{method:"PATCH"});if(!n.ok)return n.ok;const i=yield n.json();return Math.ceil(i.distance/i.velocity)/1e3})),t.getWinners=e=>n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${a}${t.path.winners}${o(e)}`);return{data:yield n.json(),count:Number(n.headers.get("X-Total-Count"))}})),t.checkWinner=e=>n(void 0,void 0,void 0,(function*(){const n=yield fetch(`${a}${t.path.winners}/${e}`);return yield n.json()})),t.sendWinner=e=>n(void 0,void 0,void 0,(function*(){if(void 0!==(yield(0,t.getWinners)([])).data.find((t=>t.id==e.id))){const n=yield(0,t.checkWinner)(e.id);e.time<n.time&&(n.time=e.time),n.wins++,yield fetch(`${a}${t.path.winners}/${e.id}`,{method:"PUT",body:JSON.stringify({wins:n.wins,time:n.time}),headers:{"Content-Type":"application/json"}})}else yield fetch(`${a}${t.path.winners}`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}))},607:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SingletonGarage=void 0;const a=n(710);class o{static getInstance(){return o.instance||(o.instance=new a.Garage),o.instance}}t.SingletonGarage=o},214:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SingletonWinners=void 0;const a=n(285);class o{static getInstance(){return o.instance||(o.instance=new a.Winners),o.instance}}t.SingletonWinners=o},877:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.selectCar=t.refreshListCar=t.addCarsList=void 0;const o=n(136),i=n(984),r=n(980),c=n(980);function s(e,t){return a(this,void 0,void 0,(function*(){const n=yield(0,o.getData)([{key:i.PAGEANDLIMIT.PAGE,value:`${t}`},{key:i.PAGEANDLIMIT.LIMIT,value:i.PAGEANDLIMIT.LIMITVALUE}]);return e.innerHTML="",n.data.forEach((t=>{const n=new r.Car(t);e.append(n.render())})),n.count}))}t.addCarsList=s,t.refreshListCar=function(){return a(this,void 0,void 0,(function*(){const e=document.querySelectorAll(".pagination__page")[0];let t=+e.innerHTML;const n=document.querySelectorAll(".main__garage__list-car")[0];1===n.childNodes.length&&1!==t&&(t-=1,e.innerHTML=`${t}`);const a=yield s(n,t);document.querySelectorAll(".main__garage__info__amount")[0].innerHTML=`(${a})`}))},t.selectCar=function(){return a(this,void 0,void 0,(function*(){const e=document.querySelectorAll(".main__garage__car");for(let t=0;t<e.length;t++)e[t].classList.contains(c.ACTIVE.ACTIVECLASS)&&e[t].classList.remove(c.ACTIVE.ACTIVECLASS)}))}},980:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Car=t.ACTIVE=void 0;const o=n(984),i=n(136),r=n(877),c=n(450),s=n(114);var l;!function(e){e.ACTIVECLASS="active-main__garage__car"}(l=t.ACTIVE||(t.ACTIVE={})),t.Car=class{constructor(e){this.name=e.name,this.color=e.color,this.id=e.id}render(){const e=document.createElement("div");e.className=`main__garage__car ${this.id}`;const t=document.createElement("div");t.className="main__garage__car__control";const n=document.createElement("button");n.className="car__control__select",n.innerText="Select",n.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){(0,r.selectCar)(),e.classList.add(l.ACTIVECLASS),document.querySelectorAll(".control__change__input-text")[0].value=this.name,document.querySelectorAll(".control__change__input-color")[0].value=this.color,document.querySelectorAll(".control__change__change-button")[0].classList.remove("active__change-button"),document.querySelectorAll(".control__change__input-text")[0].removeAttribute("readonly")}))));const d=document.createElement("button");d.className="car__control__remove",d.innerText="Remove",d.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){this.id&&(yield(0,i.removeCar)(this.id),yield(0,r.refreshListCar)(),(0,s.returnStatusButton)())}))));const u=document.createElement("div");u.className="car__control__name",u.innerText=this.name,t.append(n,d,u);const _=document.createElement("div");_.className="main__garage__car__animation";const m=document.createElement("div");m.className="car__animation__button-block";const v=document.createElement("div");v.className="car__animation__button-block__start",v.innerText="A";const h=document.createElement("i");h.className="car__animation fa-solid fa-truck-monster",h.style.color=this.color,h.style.left="0";const f=document.createElement("img");f.className="car__animation__finish",f.src="./assets/free-icon-finish-flag-1247820.png",f.alt="finish";const y=document.createElement("div");y.className="car__animation__car-block";const E=document.createElement("div");let T;return E.className="car__animation__button-block__stop active-button",E.innerText="B",y.append(h,f),v.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){if(!this.id)return;if(v.classList.contains("active-button"))return;const e=yield(0,c.setStartedCar)(this.id);if("number"!=typeof e)return;const t=y.offsetWidth-1.5*h.offsetWidth;T=setInterval((()=>{(0,c.draw)(h,t,e)}),20),v.classList.toggle("active-button"),E.classList.toggle("active-button"),yield(0,c.driveCar)(this.id,e,T),clearInterval(T)})))),E.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){E.classList.contains("active-button")||(yield(0,i.startCar)([{key:o.STATUS.ID,value:`${this.id}`},{key:o.STATUS.STATUS,value:o.STATUS.STATUSSTOP}]),clearInterval(T),h.style.left="0",v.classList.toggle("active-button"),E.classList.toggle("active-button"))})))),m.append(v,E),_.append(m,y),e.append(t,_),e}}},822:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarWinner=void 0,t.CarWinner=class{constructor(e,t,n,a){this.id=e.id,this.time=e.time,this.wins=e.wins,this.num=t,this.name=n,this.color=a}render(){const e=document.createElement("tr");e.className="result__main__car";const t=document.createElement("td");t.className="result__main__number",t.innerText=`${this.num+=1}`;const n=document.createElement("td");n.className="result__main__car-container";const a=document.createElement("i");a.className="result__main__car fa-solid fa-truck-monster",a.style.color=this.color,n.append(a);const o=document.createElement("td");o.className="result__main__name",o.innerText=this.name;const i=document.createElement("td");i.className="result__main__wins",i.innerText=`${this.wins}`;const r=document.createElement("td");return r.className="result__main__time",r.innerText=`${this.time}`,e.append(t,n,o,i,r),e}}},193:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addColor=t.generationArrayCar=t.addCarBrand=void 0;const a=n(718);function o(){const e=a.carBrands.length,t=Math.floor(Math.random()*e),n=a.carBrands[t],o=n.models.length,i=Math.floor(Math.random()*o),r=n.models[i];return`${n.name} ${r}`}function i(){let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}t.addCarBrand=o,t.generationArrayCar=function(){const e=[];for(let t=0;t<100;t++)e.push({name:o(),color:i()});return e},t.addColor=i},450:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createWinner=t.draw=t.driveCar=t.setStartedCar=t.getCarList=void 0;const o=n(984),i=n(136);function r(e,t,n){+e.style.left.replace(/[^+\d+\.]/g,"")>=t||(e.style.left=+e.style.left.replace(/[^+\d+\.]/g,"")+t/n/1e3*20+"px")}t.getCarList=()=>a(void 0,void 0,void 0,(function*(){const e=document.querySelectorAll(".pagination__page")[0].innerHTML;return yield(0,i.getData)([{key:o.PAGEANDLIMIT.PAGE,value:e},{key:o.PAGEANDLIMIT.LIMIT,value:o.PAGEANDLIMIT.LIMITVALUE}])})),t.setStartedCar=e=>a(void 0,void 0,void 0,(function*(){return yield(0,i.startCar)([{key:o.STATUS.ID,value:`${e}`},{key:o.STATUS.STATUS,value:o.STATUS.STATUSSTART}])})),t.driveCar=(e,t,n)=>a(void 0,void 0,void 0,(function*(){let a=n;void 0===a&&(a=setInterval((function(){r(l,d,t)}),20));const c=document.getElementsByClassName(`main__garage__car ${e}`)[0],s=c.querySelectorAll(".car__animation__car-block")[0],l=c.querySelectorAll(".fa-solid.fa-truck-monster")[0],d=s.offsetWidth-1.5*l.offsetWidth,u=yield(0,i.startCar)([{key:o.STATUS.ID,value:`${e}`},{key:o.STATUS.STATUS,value:o.STATUS.STATUSDRIVE}]);return u||clearInterval(a),{timer:a,result:u}})),t.draw=r,t.createWinner=e=>a(void 0,void 0,void 0,(function*(){yield(0,i.sendWinner)(e)}))},452:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,t.Header=class{static render(){const e=document.createElement("header");e.className="header";const t=document.createElement("button");t.className="header__button garage",t.textContent="TO GARAGE",t.addEventListener("click",(()=>{window.location.hash="/garage"}));const n=document.createElement("button");return n.className="header__button winners",n.textContent="TO WINNERS",n.addEventListener("click",(()=>{window.location.hash="/winners"})),e.append(t,n),e}}},678:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.addItemListWinner=void 0;const o=n(984),i=n(136),r=n(822);t.addItemListWinner=(e,t,n)=>a(void 0,void 0,void 0,(function*(){const a=(yield(0,i.getData)([])).data;let c=n;void 0===c&&(c=document.querySelectorAll(".main__winners__body")[0]),c.innerHTML="",e.data.forEach(((e,n)=>{const i=a.find((t=>t.id==e.id));let s=t;void 0===s&&(s=+o.PAGEANDLIMIT.PAGEVALUEWIN);const l=(s-1)*Number(o.PAGEANDLIMIT.LIMITVALUEWIN)+n,d=new r.CarWinner(e,l,i.name,i.color);void 0!==c&&c.append(d.render())}))}))},66:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=void 0,t.ModalWindow=class{constructor(e,t,n){this.car=e,this.time=t,this.color=n}render(){const e=document.createElement("div");e.className="modal-window";const t=document.createElement("div");t.className="modal-window__background";const n=document.createElement("div");n.className="modal-window__window";const a=document.createElement("div");a.className="modal-window__window__info",a.innerText="Congratulations!";const o=document.createElement("div");o.className="modal-window__window__text",o.innerText=`${this.car} arrived first (${this.time}s)`;const i=document.createElement("div");return i.className="modal-window__window__footer",i.innerText="Please wait until the race is over and then click...",a.style.color=`${this.color}`,o.style.color=`${this.color}`,i.style.color=`${this.color}`,n.append(a,o,i),e.addEventListener("click",(()=>{e.remove()})),e.append(t,n),e}}},623:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.changePageWinner=t.changePageGarage=void 0;const o=n(136),i=n(984),r=n(877),c=n(154);function s(e,t,n){const a=e.target,o=document.querySelectorAll(".pagination__page")[0],i=+o.innerText;if(t.count/Number(n)<=i&&a.classList.contains("pagination__button-next"))return!1;if(1==i&&a.classList.contains("pagination__button-prev"))return!1;let r;return r=a.classList.contains("pagination__button-next")?i+1:i-1,o.innerText=`${r}`,r}t.changePageGarage=function(e){return a(this,void 0,void 0,(function*(){const t=yield(0,o.getData)([{key:i.PAGEANDLIMIT.PAGE,value:i.PAGEANDLIMIT.PAGEVALUE},{key:i.PAGEANDLIMIT.LIMIT,value:i.PAGEANDLIMIT.LIMITVALUE}]),n=s(e,t,i.PAGEANDLIMIT.LIMITVALUE);return n&&(0,r.refreshListCar)(),n}))},t.changePageWinner=function(e){return a(this,void 0,void 0,(function*(){const t=yield(0,o.getWinners)([{key:i.PAGEANDLIMIT.PAGE,value:i.PAGEANDLIMIT.PAGEVALUEWIN},{key:i.PAGEANDLIMIT.LIMIT,value:i.PAGEANDLIMIT.LIMITVALUEWIN}]),n=s(e,t,i.PAGEANDLIMIT.LIMITVALUEWIN);n&&(0,c.refreshListWinners)(`${n}`)}))}},114:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.returnStatusButton=t.Pagination=void 0;const o=n(623),i=n(136);t.Pagination=class{static render(){const e=document.createElement("div");e.className="main__garage__pagination";const t=document.createElement("button");t.className="pagination__button-prev",t.innerText="Prev",t.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){r(e)}))));const n=document.createElement("div");n.className="pagination__page-name",n.innerText="Page: ";const o=document.createElement("div");o.className="pagination__page",o.innerText="1";const i=document.createElement("button");return i.className="pagination__button-next",i.innerText="Next",i.addEventListener("click",(e=>a(this,void 0,void 0,(function*(){r(e)})))),e.append(t,n,o,i),e}},t.returnStatusButton=()=>{const e=document.querySelectorAll(".button-container__race")[0],t=document.querySelectorAll(".button-container__reset")[0],n=document.querySelectorAll(".button-container__generation")[0];e.classList.contains("active-control-button")&&e.classList.remove("active-control-button"),n.classList.contains("active-control-button")&&n.classList.remove("active-control-button"),t.classList.contains("active-control-button")||t.classList.add("active-control-button")};const r=e=>a(void 0,void 0,void 0,(function*(){if(window.location.hash.slice(1)===i.path.garage){const n=yield(0,o.changePageGarage)(e);(()=>{const e=document.querySelectorAll(".control__change__change-button")[0],t=document.querySelectorAll(".control__change__input-text")[0];e.classList.contains("active__change-button")||e.classList.add("active__change-button"),t.value="",t.setAttribute("readonly","")})(),n&&(0,t.returnStatusButton)()}else yield(0,o.changePageWinner)(e)}))},75:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.startRace=void 0;const o=n(450),i=n(450),r=n(136),c=n(66);t.startRace=()=>a(void 0,void 0,void 0,(function*(){const e=yield(0,o.getCarList)(),t=e.data.map((e=>e.id)),n=document.querySelectorAll(".car__animation__button-block__start");for(let e=0;e<n.length;e++)n[e].classList.toggle("active-button");const s=yield Promise.all(t.map((e=>a(void 0,void 0,void 0,(function*(){return yield(0,i.setStartedCar)(e)})))));let l=!1;const d=yield Promise.all(s.map(((n,o)=>a(void 0,void 0,void 0,(function*(){const a=yield(0,i.driveCar)(t[o],n);if(!l&&!1!==a.result){const n=new c.ModalWindow(e.data[o].name,s[o],e.data[o].color);document.body.append(n.render()),(0,r.sendWinner)({id:t[o],wins:1,time:s[o]}),l=!0}return a})))));return document.body.classList.contains("block-body")&&document.body.classList.remove("block-body"),d.forEach((e=>clearInterval(e.timer))),d}))},154:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.refreshListWinners=void 0;const o=n(136),i=n(984),r=n(678);t.refreshListWinners=function(e){return a(this,void 0,void 0,(function*(){const t=yield(0,o.getWinners)([{key:i.PAGEANDLIMIT.PAGE,value:e},{key:i.PAGEANDLIMIT.LIMIT,value:i.PAGEANDLIMIT.LIMITVALUEWIN},{key:i.SORT.SORT,value:i.SORT.ACTIVESORT},{key:i.SORT.ORDER,value:i.SORT.ACTIVEORDER}]);(0,r.addItemListWinner)(t,+e)}))}},326:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sortByWinsOrTime=t.sorting=void 0;const o=n(136),i=n(984),r=n(154);t.sorting=(e,t)=>a(void 0,void 0,void 0,(function*(){yield(0,o.getWinners)([{key:i.PAGEANDLIMIT.PAGE,value:i.PAGEANDLIMIT.PAGEVALUEWIN},{key:i.PAGEANDLIMIT.LIMIT,value:i.PAGEANDLIMIT.LIMITVALUEWIN},{key:i.SORT.SORT,value:e},{key:i.SORT.ORDER,value:t}]),i.SORT.ACTIVESORT=e,i.SORT.ACTIVEORDER=t;const n=document.querySelectorAll(".pagination__page")[0].innerHTML;(0,r.refreshListWinners)(n)})),t.sortByWinsOrTime=(e,n,o)=>a(void 0,void 0,void 0,(function*(){e.classList.contains("table__UP-active")?(yield(0,t.sorting)(o,i.SORT.ASC),e.classList.remove("table__UP-active"),n.classList.add("table__UP-active")):e.classList.contains("table__UP-rotate")?(yield(0,t.sorting)(o,i.SORT.ASC),e.classList.remove("table__UP-rotate")):(yield(0,t.sorting)(o,i.SORT.DESC),e.classList.add("table__UP-rotate"))}))},447:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Control=void 0;const o=n(136),i=n(877),r=n(980),c=n(193),s=n(450),l=n(75),d=n(114);t.Control=class{static render(){const e=document.createElement("div");e.className="main__garage__control";const t=document.createElement("div");t.className="control__create";const n=document.createElement("input");n.className="control__input-text",n.type="text";const u=document.createElement("input");u.className="control__input-color",u.type="color";const _=document.createElement("button");_.className="control__create-button",_.innerText="Create",_.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){yield(0,o.createCar)({name:n.value,color:u.value}),yield(0,i.refreshListCar)(),(0,d.returnStatusButton)()})))),t.append(n,u,_);const m=document.createElement("div");m.className="control__change";const v=document.createElement("input");v.className="control__change__input-text",v.type="text",v.setAttribute("readonly","");const h=document.createElement("input");h.className="control__change__input-color",h.type="color";const f=document.createElement("button");f.className="control__change__change-button active__change-button",f.innerText="Change",f.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){if(f.classList.contains("active__change-button"))return;const e=+document.querySelectorAll(`.${r.ACTIVE.ACTIVECLASS}`)[0].className.replace(/[\D]+/g,"");yield(0,o.updateCar)(e,{name:v.value,color:h.value}),yield(0,i.refreshListCar)(),(0,i.selectCar)(),f.classList.add("active__change-button"),v.value="",v.setAttribute("readonly",""),(0,d.returnStatusButton)()})))),m.append(v,h,f);const y=document.createElement("div");y.className="control__button-container";const E=document.createElement("button");E.className="button-container__race",E.innerText="Race",E.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){document.body.classList.add("block-body"),E.classList.contains("active-control-button")||(E.classList.add("active-control-button"),g.classList.add("active-control-button"),yield(0,l.startRace)(),T.classList.remove("active-control-button"),g.classList.remove("active-control-button"))}))));const T=document.createElement("button");T.className="button-container__reset active-control-button",T.innerText="Reset",T.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){if(T.classList.contains("active-control-button"))return;const e=(yield(0,s.getCarList)()).data.map((e=>e.id));yield Promise.all(e.map((e=>a(this,void 0,void 0,(function*(){yield(0,o.startCar)([{key:"id",value:`${e}`},{key:"status",value:"stopped"}])})))));const t=document.querySelectorAll(".fa-solid.fa-truck-monster"),n=document.querySelectorAll(".car__animation__button-block__start");for(let e=0;e<t.length;e++)t[e].style.left="0",n[e].classList.toggle("active-button");(0,d.returnStatusButton)()}))));const g=document.createElement("button");return g.className="button-container__generation",g.innerText="Generation",g.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){if(g.classList.contains("active-control-button"))return;const e=(0,c.generationArrayCar)();yield Promise.all(e.map((e=>(0,o.createCar)(e)))),yield(0,i.refreshListCar)(),(0,d.returnStatusButton)()})))),y.append(E,T,g),e.append(t,m,y),e}}},710:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Garage=void 0;const o=n(447),i=n(877),r=n(114);t.Garage=class{constructor(){this.container=null}render(){return a(this,void 0,void 0,(function*(){if(this.container)return this.container;const e=document.createElement("div");e.className="main__garage";const t=document.createElement("div");t.className="main__garage__info";const n=document.createElement("div");n.className="main__garage__info__name",n.innerText="Garage";const a=document.createElement("div");a.className="main__garage__info__amount",t.append(n,a);const c=document.createElement("div");c.className="main__garage__list-car";const s=yield(0,i.addCarsList)(c,1);return a.innerText=`(${s})`,e.append(o.Control.render(),t,r.Pagination.render(),c),this.container=e,e}))}}},315:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsWinners=void 0;const o=n(984),i=n(326),r=n(678);t.ResultsWinners=class{constructor(e,t){this.dataObj=e,this.page=t}render(){return a(this,void 0,void 0,(function*(){const e=document.createElement("table");e.className="main__winners__container";const t=document.createElement("thead");t.className="main__winners__head";const n=document.createElement("tbody");n.className="main__winners__body",e.append(t,n);const c=document.createElement("tr");c.className="result__header",t.append(c);const s=document.createElement("th");s.className="result__header__number",s.innerText="Number";const l=document.createElement("th");l.className="result__header__car",l.innerText="Car";const d=document.createElement("th");d.className="result__header__name",d.innerText="Name";const u=document.createElement("th");u.className="result__header__wins";const _=document.createElement("span");_.className="result__header__wins__name",_.innerText="Wins";const m=document.createElement("i");m.className="result__header__wins__UP fa-solid fa-chevron-up table__UP-active",u.append(_,m),u.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){(0,i.sortByWinsOrTime)(m,f,o.SORT.WINS)}))));const v=document.createElement("th");v.className="result__header__time";const h=document.createElement("span");h.className="result__header__time__name",h.innerText="Best time(seconds)";const f=document.createElement("i");return f.className="result__header__time__UP fa-solid fa-chevron-up table__UP-active",v.append(h,f),v.addEventListener("click",(()=>a(this,void 0,void 0,(function*(){(0,i.sortByWinsOrTime)(f,m,o.SORT.TIME)})))),c.append(s,l,d,u,v),yield(0,r.addItemListWinner)(this.dataObj,this.page,n),e}))}}},285:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Winners=void 0;const o=n(136),i=n(984),r=n(315),c=n(154),s=n(114);t.Winners=class{constructor(){this.container=null}render(){return a(this,void 0,void 0,(function*(){if(this.container){const e=this.container.querySelectorAll(".pagination__page")[0].innerHTML;(0,c.refreshListWinners)(e);const t=this.container.querySelectorAll(".main__winners__info__amount")[0],n=yield(0,o.getWinners)([{key:i.PAGEANDLIMIT.PAGE,value:i.PAGEANDLIMIT.PAGEVALUEWIN},{key:i.PAGEANDLIMIT.LIMIT,value:i.PAGEANDLIMIT.LIMITVALUEWIN}]);return t.innerHTML=`(${n.count})`,this.container}const e=document.createElement("div");e.className="main__winners";const t=document.createElement("div");t.className="main__winners__info";const n=document.createElement("div");n.className="main__winners__info__name",n.innerText="Winners";const a=document.createElement("div");a.className="main__winners__info__amount",t.append(n,a);const l=yield(0,o.getWinners)([{key:i.PAGEANDLIMIT.PAGE,value:i.PAGEANDLIMIT.PAGEVALUEWIN},{key:i.PAGEANDLIMIT.LIMIT,value:i.PAGEANDLIMIT.LIMITVALUEWIN},{key:i.SORT.SORT,value:i.SORT.ACTIVESORT},{key:i.SORT.ORDER,value:i.SORT.ACTIVEORDER}]);a.innerText=`(${l.count})`;const d=new r.ResultsWinners(l),u=yield d.render();return e.append(t,s.Pagination.render(),u),this.container=e,e}))}}},580:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function r(e){try{s(a.next(e))}catch(e){i(e)}}function c(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}s((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const o=n(452),i=n(761),r=n(607),c=n(214);n(740);class s{constructor(){this.previousPage=""}renderNewPage(e){return a(this,void 0,void 0,(function*(){const t=e.toLowerCase();document.body.innerHTML="";let n=null;if(t===i.PageIds.Garage?n=r.SingletonGarage.getInstance():t===i.PageIds.Winners?n=c.SingletonWinners.getInstance():(window.location.hash=`${i.PageIds.Garage}`,n=r.SingletonGarage.getInstance()),n){const e=document.createElement("main");e.className="main",e.id="root",e.append(yield n.render()),s.container.append(o.Header.render(),e)}}))}enableRouteChange(){const e=()=>{const e=window.location.hash.slice(1);e?this.renderNewPage(`${e}`):window.location.hash=`${i.PageIds.Garage}`};window.addEventListener("hashchange",e),window.addEventListener("load",e)}run(){this.enableRouteChange()}}t.App=s,s.container=document.body},984:(e,t)=>{var n,a;Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS=t.SORT=t.PAGEANDLIMIT=void 0,(a=t.PAGEANDLIMIT||(t.PAGEANDLIMIT={})).PAGE="_page",a.LIMIT="_limit",a.PAGEVALUE="1",a.LIMITVALUE="7",a.PAGEVALUEWIN="1",a.LIMITVALUEWIN="10",t.SORT={SORT:"_sort",ORDER:"_order",ID:"id",WINS:"wins",TIME:"time",ASC:"ASC",DESC:"DESC",ACTIVESORT:"",ACTIVEORDER:""},(n=t.STATUS||(t.STATUS={})).ID="id",n.STATUS="status",n.STATUSSTOP="stopped",n.STATUSSTART="started",n.STATUSDRIVE="drive"},761:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PageIds=void 0,t.PageIds={Garage:"/garage",Winners:"/winners"}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(740),(new(n(580).App)).run()})();